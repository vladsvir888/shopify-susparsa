<script src="{{ 'alternate-main-product.js' | asset_url }}" type="module"></script>

<article
  class="product-card main__product-card"
  data-section-type="alternate-main-product"
  data-section-id="{{ section.id }}">
  <div class="container product-card__container">
    {% if product.featured_image != blank %}
      <div class="product-card__img-wrap">
        {{ product.featured_image | image_url: width: 473, height: 707 | image_tag: class: 'product-card__img', alt: 'Girl in white unisex t-shirt.' }}
      </div>
    {% endif %}
    <div class="product-card__content">
      <header class="offset-y product-card__header">
        <h1 id="main_title" class="product-card__title">{{ product.title }}</h1>
        {% if product.price != blank %}
          <p class="product-card__price">
            <abbr title="{{ 'accessibility.euro_abbr' | t }}">{{ shop.currency }}</abbr>
            {{ product.price | money_without_currency }}
          </p>
        {% endif %}
        <p class="product-card__note">
          <small>
            {{ 'general.tax_included' | t }}
          </small>
        </p>
      </header>
      {% form 'product', product, id: "product-form", class: "form product-card__form" %}
        <select
          name="id"
          id="product-variants"
          style="margin-bottom: 1rem;">
          {% for variant in product.variants %}
            <option value="{{ variant.id }}" {% if product.selected_or_first_available_variant.id == variant.id %}selected{% endif %}>
              {{ variant.title }}
            </option>
          {% endfor %}
        </select>
        <input
          type="hidden"
          name="sections"
          value="alternate-header">
        <div class="offset-y form__fieldset-wrap">
          <fieldset class="form__fieldset">
            <legend class="form__caption">
              Size
            </legend>
            <div class="offset-x form__inner">
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_xs"
                  type="radio"
                  name="size"
                  value="XS">
                <label class="radio-btn__label" for="size_xs">
                  XS
                </label>
              </div>
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_s"
                  type="radio"
                  name="size"
                  value="S"
                  checked>
                <label class="radio-btn__label" for="size_s">
                  S
                </label>
              </div>
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_m"
                  type="radio"
                  name="size"
                  value="M">
                <label class="radio-btn__label" for="size_m">
                  M
                </label>
              </div>
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_l"
                  type="radio"
                  name="size"
                  value="L">
                <label class="radio-btn__label" for="size_l">
                  L
                </label>
              </div>
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_xl"
                  type="radio"
                  name="size"
                  value="XL">
                <label class="radio-btn__label" for="size_xl">
                  XL
                </label>
              </div>
              <div class="radio-btn">
                <input
                  class="radio-btn__input visually-hidden"
                  id="size_2xl"
                  type="radio"
                  name="size"
                  value="2XL"
                  disabled>
                <label class="radio-btn__label" for="size_2xl">
                  2XL
                </label>
              </div>
            </div>
          </fieldset>
          <fieldset class="form__fieldset">
            <legend class="form__caption">
              Color
              <span aria-hidden="true">- White</span>
            </legend>
            <div class="offset-x form__inner">
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_white"
                  type="radio"
                  name="color"
                  value="White"
                  checked>
                <label
                  class="radio-btn__label radio-btn__label--white"
                  for="color_white"
                  style="--color: #fff;">
                  <span class="radio-btn__tooltip" role="tooltip">White</span>
                </label>
              </div>
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_black"
                  type="radio"
                  name="color"
                  value="Black">
                <label
                  class="radio-btn__label"
                  for="color_black"
                  style="--color: #000;">
                  <span class="radio-btn__tooltip" role="tooltip">Black</span>
                </label>
              </div>
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_gray"
                  type="radio"
                  name="color"
                  value="Gray">
                <label
                  class="radio-btn__label"
                  for="color_gray"
                  style="--color: #aeaeb0;">
                  <span class="radio-btn__tooltip" role="tooltip">Gray</span>
                </label>
              </div>
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_purple_latte"
                  type="radio"
                  name="color"
                  value="Purple latte">
                <label
                  class="radio-btn__label"
                  for="color_purple_latte"
                  style="--color: #ba9be5;">
                  <span class="radio-btn__tooltip" role="tooltip">Purple latte</span>
                </label>
              </div>
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_red"
                  type="radio"
                  name="color"
                  value="Red"
                  disabled>
                <label
                  class="radio-btn__label"
                  for="color_red"
                  style="--color: #e9a0a7;">
                  <span class="radio-btn__tooltip" role="tooltip">Pink</span>
                </label>
              </div>
              <div class="radio-btn radio-btn--color">
                <input
                  class="radio-btn__input visually-hidden"
                  id="color_peach"
                  type="radio"
                  name="color"
                  value="Peach"
                  disabled>
                <label
                  class="radio-btn__label"
                  for="color_peach"
                  style="--color: #f8cab1;">
                  <span class="radio-btn__tooltip" role="tooltip">Peach</span>
                </label>
              </div>
            </div>
          </fieldset>
          <fieldset class="form__fieldset">
            <legend class="form__caption">
              {{ 'general.counter.name' | t }}
            </legend>
            <div class="counter">
              <button
                class="counter__btn counter__btn--minus"
                type="button"
                aria-label="{{ 'general.counter.decrease_btn' | t }}">
                {% render 'icon', icon: "minus" %}
              </button>
              <input
                class="counter__input"
                type="number"
                name="quantity"
                inputmode="numeric"
                value="1"
                aria-label="{{ 'general.counter.input' | t }}">
              <button
                class="counter__btn counter__btn--plus"
                type="button"
                aria-label="{{ 'general.counter.increase_btn' | t }}">
                {% render 'icon', icon: "plus" %}
              </button>
            </div>
          </fieldset>
        </div>
        <div class="offset-y form__btn-wrap">
          <button
            class="btn btn--primary product-card__btn"
            value="add"
            type="submit">
            {{ 'products.product.add_to_cart' | t }}
          </button>
          <button
            class="btn btn--secondary product-card__btn"
            value="quick-buy"
            type="button">
            {{ 'products.product.buy_it_now' | t }}
          </button>
        </div>
      {% endform %}
      {% if product.description != blank %}
        <footer class="offset-y product-card__footer">
          {{ product.description }}
        </footer>
      {% endif %}
    </div>
    {% if section.blocks.size > 0 %}
      <div class="accordion main__accordion">
        {% for block in section.blocks %}
          <div class="accordion__item" {{ block.shopify_attributes }}>
            <h2 id="accordion_heading_{{ block.id }}" class="accordion__heading">
              <button
                class="accordion__btn"
                aria-expanded="false"
                aria-controls="collapse_{{ block.id }}">
                {{ block.settings.heading }}
              </button>
            </h2>
            <section
              id="collapse_{{ block.id }}"
              class="accordion__content"
              aria-labelledby="accordion_heading_{{ block.id }}">
              {{ block.settings.text }}
            </section>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</article>

{% schema %}
  {
    "name": "Main product",
    "limit": 1,
    "templates": ["product"],
    "blocks": [
      {
        "type": "accordeon",
        "name": "Accordeon",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading"
          }, {
            "type": "richtext",
            "id": "text",
            "label": "Text"
          }
        ]
      }
    ],
    "settings": [],
    "presets": [
      {
        "name": "Main product"
      }
    ]
  }
{% endschema %}