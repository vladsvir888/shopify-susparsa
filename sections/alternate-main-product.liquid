<article
  class="product-card"
  data-section-type="alternate-main-product"
  data-section-id="{{ section.id }}"
  data-handle="{{ product.handle }}">
  <div class="container product-card__container">
    {% if product.featured_image != blank %}
      <div class="product-card__img-wrap">
        {% render 'skip-link', href: 'product_card_content' %}
        {{ product.featured_image | image_url: width: 473, height: 707 | image_tag: class: 'product-card__img', alt: 'Girl in white unisex t-shirt.' }}
      </div>
    {% endif %}
    <div
      id="product_card_content"
      class="product-card__content"
      tabindex="-1">
      <header class="offset-y product-card__header">
        <h1 id="main_title" class="product-card__title">{{ product.title }}</h1>
        {% if product.price != blank %}
          <p class="product-card__price">
            <abbr title="{{ 'accessibility.euro_abbr' | t }}">{{ shop.currency }}</abbr>
            <span class="product-card__price-num">
              {{ product.price | money_without_currency }}
            </span>
          </p>
        {% endif %}
        <p class="product-card__note">
          <small>
            {{ 'general.tax_included' | t }}
          </small>
        </p>
      </header>
      <script>
        window.vs888MoneyFormat = {{ shop.money_format | json }};
      </script>
      {% form 'product', product, id: "product-form", class: "form product-card__form" %}
        <input
          type="hidden"
          name="sections"
          value="alternate-header">
        <div class="offset-y form__fieldset-wrap">
          {% for product_option in product.options_with_values %}
            <fieldset class="form__fieldset">
              <legend class="form__caption">
                {% if product_option.name == 'Size' %}
                  {{ product_option.name }}
                {% elsif product_option.name == 'Color' %}
                  {% assign arr_color = product_option.selected_value | split: '|' %}
                  {{ product_option.name }} -
                  <span class="form__caption-color">{{ arr_color[0] }}</span>
                {% endif %}
              </legend>
              <div class="offset-x form__inner">
                {% for value in product_option.values %}
                  {% render 'radio-btn', value: value, product_option: product_option %}
                {% endfor %}
              </div>
            </fieldset>
          {% endfor %}
          <fieldset class="form__fieldset">
            <legend class="form__caption">
              {{ 'general.counter.name' | t }}
            </legend>
            {% render 'counter' %}
          </fieldset>
        </div>
        <div class="offset-y form__btn-wrap">
          <button
            class="btn btn--primary product-card__btn"
            value="add"
            type="submit">
            {{ 'products.product.add_to_cart' | t }}
          </button>
          <button
            class="btn btn--secondary product-card__btn"
            value="quick-buy"
            type="button">
            {{ 'products.product.buy_it_now' | t }}
          </button>
        </div>
      {% endform %}
      {% if product.description != blank %}
        <footer class="offset-y product-card__footer">
          {{ product.description }}
        </footer>
      {% endif %}
    </div>
    {% if section.blocks.size > 0 %}
      {% render 'accordion', section_blocks: section.blocks, class: 'main__accordion' %}
    {% endif %}
  </div>
</article>

{% schema %}
  {
    "name": "Main product",
    "limit": 1,
    "templates": ["product"],
    "blocks": [
      {
        "type": "accordeon",
        "name": "Accordeon",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading"
          }, {
            "type": "richtext",
            "id": "text",
            "label": "Text"
          }
        ]
      }
    ],
    "settings": [],
    "presets": [
      {
        "name": "Main product"
      }
    ]
  }
{% endschema %}